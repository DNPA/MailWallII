This document describes how to install mailwall-ii.
NOTE: you don't want to do this on a running mailwall-ii, given that your database
      is overwritten if one exists and all changes, including all messages in the 
      queues will be lost.

0)   Make sure the dependencies of all perl scripts are met.

1)   First create a user and group that you want the mailwall-ii to run under.
     For the rest of this document we assume you use user mailwall and group mailwall.

2)   Go to the 'todb' directory.

3)   If you are upgrading from the old mailwall version 1, get a new version of the
     i2u.txt and have a new version of mailaccounts.txt generated by your administrator.
     If you are not upgrading but want to make an empty database, make an empty file
     for each of the above mentioned filenames.

4)   If the mailaccounts.txt defines mailinglists of people that are at the same time 
     lists of people with a non standard IP sub range, edit the netgroups.conf.

5)   Create the file /etc/mailwall.conf. You could use the example from the todb
     directory to guide you.  Make sure you create files and/or directories that
     you define in the /etc/mailwall.conf as needed. Make the directories owned
     by the group/user defined in /etc/mailwall.conf.

6)   Run the script mailaccounts2db.pl and validate using sqlite3 that the database
     looks sane.

7)   Create the directory /opt/mailwall

8)   Move the bin and the lib directory to /opt/mailwall  

9)  Test if /opt/mailwall/bin/smtpd.pl and /opt/mailwall/bin/forwarder.pl scripts 
     work, by starting them and trying to send out some mail messages.

10)  If 11 works fine, create an rc start script suitable for your distribution
     and add it to your standard startup. You may be able to use the scripts
     in the rc.d directory.


